(this["webpackJsonpappointment-scheduling-app"]=this["webpackJsonpappointment-scheduling-app"]||[]).push([[0],{186:function(e,t,a){e.exports=a(317)},191:function(e,t,a){},193:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"saveUser",(function(){return I})),a.d(n,"getUser",(function(){return L})),a.d(n,"userLogin",(function(){return N})),a.d(n,"sendPasswordMail",(function(){return C})),a.d(n,"resetPassword",(function(){return M}));var r=a(0),c=a.n(r),o=a(33),l=a.n(o),s=(a(191),a(9)),i=a.n(s),u=a(19),m=a(24),d=a(25),p=a(27),v=a(26),g=(a(193),a(18)),f=a(17),E=a(329),h=a(325),b=a(154),y=a(147),w=a(148),O=a(12),j=a(31),S=a.n(j),x="https://stormy-cliffs-24292.herokuapp.com",_=["10:00am","10:15am","10:30am","10:45am","11:00am","11:15am","11:30am","11:45am","12:00pm","12:15pm","12:30pm","12:45pm","1:00pm","1:15pm","1:30pm","1:45pm","2:00pm","2:15pm","2:30pm","2:45pm","3:00pm","3:15pm","3:30pm","3:45pm","4:00pm","4:15pm","4:30pm","4:45pm","5:00pm","5:15pm","5:30pm","5:45pm","6:00pm","6:15pm","6:30pm","6:45pm","7:00pm","7:15pm","7:30pm","7:45pm"],T=a(28),k=Object(T.a)(),I=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("values : ",e),t.next=3,S.a.post("".concat(x,"/api/v1/user"),e);case 3:n=t.sent,a({type:"add_user",payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("user_id : ",e),t.next=3,S.a.get("".concat(x,"/api/v1/user/").concat(e));case 3:n=t.sent,console.log("res : ",n),a({type:"get_user",payload:n.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("values 1: ",e),t.next=3,S.a.post("".concat(x,"/api/v1/user/login"),e);case 3:(n=t.sent).data.user&&(console.log("History : ",k),k.push("/dashboard"),sessionStorage.setItem("user",JSON.stringify(n.data.user)),sessionStorage.setItem("loggedIn",!0),a({type:"user_info",payload:n.data}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("EMAIL : ",e),t.next=3,S.a.get("".concat(x,"/api/v1/user/send_mail/").concat(e));case 3:n=t.sent,console.log("res : ",n),a({type:"reset_password",payload:n.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.put("".concat(x,"/api/v1/user/reset_password/"),e);case 2:n=t.sent,console.log("res : ",n),a({type:"reset_password",payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=[{type:"email",label:"Email address",placeholder:"Enter email",name:"email"},{type:"password",label:"Password",placeholder:"Password",name:"password"}],D=function(e){var t=e.input,a=e.label,n=e.placeholder,r=e.type,o=e.meta,l=o.error,s=o.touched;return console.log("INPUT : ",t,n),c.a.createElement(h.a.Group,null,c.a.createElement(h.a.Label,null,a),c.a.createElement(h.a.Control,Object.assign({},t,{type:r,placeholder:n})),c.a.createElement(h.a.Text,{className:"text-danger"},s&&l))},A=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formSubmitted:!1},e.renderFields=function(){return F.map((function(e){return c.a.createElement(y.a,Object.assign({component:D},e))}))},e.onLogin=function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.userLogin(a);case 2:e.props.user||e.setState({formSubmitted:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return sessionStorage.getItem("user")?c.a.createElement(f.a,{to:"/dashboard"}):c.a.createElement(E.a,{style:{padding:"10px",margin:"50px auto",width:"60%"}},c.a.createElement(E.a.Title,{className:"text-center"},"Sign in"),c.a.createElement(h.a,{onSubmit:this.props.handleSubmit((function(t){return e.onLogin(t)}))},c.a.createElement(h.a.Text,{className:"text-white bg-danger"},this.state.formSubmitted&&"Email or password is incorrect"),this.renderFields(),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Login"),c.a.createElement(g.b,{to:"/forgot_password"},c.a.createElement(b.a,{variant:"outline-primary",style:{marginLeft:"5px",marginRight:"5px"}},"Forgot Password?")),c.a.createElement(g.b,{to:"/new_user"},c.a.createElement(b.a,{variant:"outline-primary"},"New User? Sign Up"))))}}]),a}(r.Component);var U=Object(O.b)((function(e,t){var a=e.userReducer;return{user:a.user,loggedIn:a.loggedIn}}),n)(Object(w.a)({validate:function(e){var t={};return F.map((function(a){var n=a.label,r=a.name;e[r]||(t[r]="".concat(n," is required"))})),t},form:"loginForm",destroyOnUnmount:!0})(A)),P=a(327),B=a(326),R=function(){var e=JSON.parse(sessionStorage.getItem("user"));return console.log("USER : ",e),c.a.createElement(P.a,{fixed:"top",bg:"dark",variant:"dark"},c.a.createElement(P.a.Collapse,{className:"justify-content-end"},c.a.createElement(B.a,{title:e.full_name,id:"collasible-nav-dropdown"},c.a.createElement(B.a.Item,{onClick:function(){sessionStorage.clear(),console.log(sessionStorage.getItem("user")),console.log(sessionStorage.getItem("loggedIn")),window.location.reload()}},"Logout"))))},J=[{type:"email",label:"Email address",placeholder:"Enter email",name:"email"},{type:"text",label:"Full name",placeholder:"Enter full name",name:"full_name"},{type:"password",label:"Password",placeholder:"Password",name:"password"},{type:"password",label:"Confirm Password",placeholder:"Password",name:"confirm_password"}];var q=Object(O.b)(null,n)(Object(w.a)({validate:function(e){var t={};return e.password!==e.confirm_password&&(t.confirm_password="Confirm password does not match"),J.map((function(a){var n=a.label,r=a.name;e[r]||(t[r]="".concat(n," is required"))})),t},form:"signUpForm",destroyOnUnmount:!0})((function(e){var t=e.handleSubmit,a=e.onFormSubmit,n=e.saveUser;return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.Title,{className:"text-center"},"Sign Up"),c.a.createElement(h.a,{onSubmit:t((function(e){return a(e,n)}))},J.map((function(e){return c.a.createElement(y.a,Object.assign({component:D},e))})),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Register"),c.a.createElement(g.b,{to:"/",style:{marginLeft:"10px"}},c.a.createElement(b.a,{variant:"primary",type:"submit"},"Cancel"))))}))),H=function(){return c.a.createElement("div",null,c.a.createElement(E.a.Title,null,"Thank you for registration"),c.a.createElement(g.b,{to:"/"},"Login"))},G=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={signUpFormSubmitted:!1},e.onFormSubmit=function(){var t=Object(u.a)(i.a.mark((function t(a,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({signUpFormSubmitted:!0}),t.next=3,n(a);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.renderContent=function(){return e.state.signUpFormSubmitted?c.a.createElement(H,null):c.a.createElement(q,{onFormSubmit:e.onFormSubmit})},e}return Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement(E.a,{style:{padding:"10px",margin:"50px auto",width:"60%"}},this.renderContent())}}]),a}(r.Component),z=function(){return c.a.createElement("div",null,"My Schedule")},Y=a(23),W=function(e){return c.a.createElement(E.a,{style:{width:"18rem"}},c.a.createElement(E.a.Body,null,c.a.createElement(E.a.Title,null,e.event.event_name),e.isUser&&c.a.createElement(E.a.Text,null,e.event.duration," min")),c.a.createElement(E.a.Footer,{className:"text-muted"},e.isUser&&c.a.createElement(b.a,{onClick:function(){return e.showEvent("open","Edit",e.event)}},"Edit"),!e.isUser&&c.a.createElement(b.a,{onClick:function(){return e.showMeeting("open",e.event)}},"Select")))},V=a(322),K=a(323),Q=a(152),X=a(324),Z=a(328),$=a(11),ee=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selected15:!1,selected30:!1,selected45:!1,selected60:!1},e.selectedBox=function(t){switch(t&&(t=t.toString()),t){case"15":e.setState({selected15:!0,selected30:!1,selected45:!1,selected60:!1}),e.props.dispatch(Object($.a)("addEvent","duration",15)),e.props.dispatch(Object($.a)("addEvent","custom_val",""));break;case"30":e.setState({selected15:!1,selected30:!0,selected45:!1,selected60:!1}),e.props.dispatch(Object($.a)("addEvent","duration",30)),e.props.dispatch(Object($.a)("addEvent","custom_val",""));break;case"45":e.setState({selected15:!1,selected30:!1,selected45:!0,selected60:!1}),e.props.dispatch(Object($.a)("addEvent","duration",45)),e.props.dispatch(Object($.a)("addEvent","custom_val",""));break;case"60":e.setState({selected15:!1,selected30:!1,selected45:!1,selected60:!0}),e.props.dispatch(Object($.a)("addEvent","duration",60)),e.props.dispatch(Object($.a)("addEvent","custom_val",""));break;default:e.setState({selected15:!1,selected30:!1,selected45:!1,selected60:!1}),e.props.dispatch(Object($.a)("addEvent","duration",0))}},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.selectedEvent!==this.props.selectedEvent){var t=this.props.selectedEvent,a=t.event_name,n=t.duration,r=t._id;if(console.log("componentDidUpdate PROPS : ",a,n,a&&n),null!==a&&null!==n){console.log("componentDidUpdate in IF : "),this.selectedBox(n);var c="";15!==n&&30!==n&&45!==n&&60!==n&&(c=n),this.props.initialize({event_name:a,duration:n,custom_val:c,_id:r})}}}},{key:"render",value:function(){var e=this;return console.log("New EVENT",this.props.show,this.props.selectedEvent),c.a.createElement(X.a,{show:this.props.show,onHide:function(){return e.props.handleAddEvent("close")}},c.a.createElement(X.a.Header,{closeButton:!0},c.a.createElement(X.a.Title,null,this.props.actionType," Event Type")),c.a.createElement(X.a.Body,null,c.a.createElement(E.a,{style:{padding:"10px"}},c.a.createElement(h.a,{onSubmit:this.props.handleSubmit((function(t){return e.props.addEvent(t,e.props.actionType)}))},c.a.createElement(h.a.Group,{controlId:"formBasicEmail"},c.a.createElement(y.a,{component:D,type:"text",label:"Event name",placeholder:"Enter Event",name:"event_name"}),c.a.createElement(y.a,{component:"input",type:"hidden",name:"duration"}),c.a.createElement(y.a,{component:"input",type:"hidden",name:"_id"})),c.a.createElement(Z.a,{horizontal:!0},c.a.createElement(Z.a.Item,{style:{cursor:"pointer",border:this.state.selected15?"1px solid #000":""},onClick:function(){return e.selectedBox("15")}},"15"),c.a.createElement(Z.a.Item,{style:{cursor:"pointer",border:this.state.selected30?"1px solid #000":""},onClick:function(){return e.selectedBox("30")}},"30"),c.a.createElement(Z.a.Item,{style:{cursor:"pointer",border:this.state.selected45?"1px solid #000":""},onClick:function(){return e.selectedBox("45")}},"45"),c.a.createElement(Z.a.Item,{style:{cursor:"pointer",border:this.state.selected60?"1px solid #000":""},onClick:function(){return e.selectedBox("60")}},"60"),c.a.createElement(Z.a.Item,{onClick:function(){return e.selectedBox("0")}},c.a.createElement(y.a,{className:"form-control",component:"input",type:"number",placeholder:"custom",name:"custom_val",maxLength:"2"}))),c.a.createElement(b.a,{type:"submit",variant:"primary",style:{marginTop:"5px"}},"Save")))))}}]),a}(r.Component);var te=Object(w.a)({validate:function(e){var t={};return e.event_name||(t.event_name="Event name is required"),e.duration||e.custom_val||(t.event_name="Select duration"),t},form:"addEvent",destroyOnUnmount:!0})(ee),ae=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ne=["January","February","March","April","May","June","July","August","September","October","November","December"],re=function(){var e=sessionStorage.getItem("user"),t="";return e&&(t=(e=JSON.parse(e))._id),t},ce=function(e,t,a){return t+" - "+oe(t,a)+", "+le(e)},oe=function(e,t){var a=e.split(""),n=a[a.length-2]+a[a.length-1],r=e.split("am").join("").split("pm").join("").split(":"),c=parseInt(r[1])+parseInt(t),o=parseInt(r[0]);return c>=60&&(c-=60,o+=1),o>=12&&(n="pm"),o>12&&(o-=12),c<10&&(c="0"+c),o+":"+c+n},le=function(e){var t=new Date(e);return ae[t.getDay()]+", "+ne[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},se=function(e,t){var a=new Date(e),n=new Date(t),r=0;return a>n?r=1:a<n&&(r=-1),r},ie=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("".concat(x,"/api/v1/event/list/").concat(e));case 2:n=t.sent,console.log("viewEvents : ",n.data),a({type:"view_events",payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var ue=Object(O.b)((function(e,t){return{eventList:e.eventReducer.eventList,user_id:JSON.parse(sessionStorage.getItem("user"))._id}}),null)((function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)("add"),s=Object(Y.a)(l,2),m=s[0],d=s[1],p=Object(r.useState)({}),v=Object(Y.a)(p,2),g=v[0],f=v[1];Object(r.useEffect)((function(){e.dispatch(ie(re()))}),[n]);var h=function(e,t,a){console.log(e,t,a),"open"===e?(d(t),f(a),o(!0)):"close"===e&&o(!1)};return c.a.createElement("div",null,c.a.createElement(V.a,null,c.a.createElement(K.a,null,c.a.createElement(Q.a,{style:{marginBottom:"5px"}},c.a.createElement(E.a.Title,null,"My Link"),c.a.createElement(E.a.Link,null,"https://stormy-cliffs-24292.herokuapp.com/meeting/",e.user_id)),c.a.createElement(Q.a,{md:"auto"},c.a.createElement(b.a,{onClick:function(){return h("open","Add",{})}},"Add New Event Type")))),c.a.createElement(V.a,null,c.a.createElement(K.a,null,e.eventList&&e.eventList.map((function(e){return c.a.createElement(Q.a,{sm:"4",style:{marginBottom:"10px"}},c.a.createElement(W,{isUser:!0,event:e,showEvent:h}))})))),c.a.createElement(te,{show:n,selectedEvent:g,handleAddEvent:h,addEvent:function(t,a){e.dispatch(function(e,t){return function(){var a=Object(u.a)(i.a.mark((function a(n){var r,c,o,l,s,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=re(),c=e.event_name,o=e.duration,l=e.custom_val,s=e._id,console.log(l),l&&l.trim().length>0&&(o=l),"Add"!==t){a.next=11;break}return a.next=7,S.a.post("".concat(x,"/api/v1/event/add"),{event_name:c,duration:o,user_id:r});case 7:u=a.sent,n({type:"add_event",payload:u.data}),a.next=16;break;case 11:if("Edit"!==t){a.next=16;break}return a.next=14,S.a.put("".concat(x,"/api/v1/event/update"),{event_name:c,duration:o,user_id:r,_id:s});case 14:u=a.sent,n({type:"update_event",payload:u.data});case 16:n(Object($.b)("addEvent"));case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a)),h("close"),e.dispatch(Object($.b)("addEvent")),e.dispatch(ie(re()))},actionType:m}))})),me=function(e){console.log("ScheduleDetails : ",e.meeting);var t=e.meeting[0],a=(t.first_name,t.last_name,t.duartion,t.meetingDate);t.meetingTime,t.event_name;return c.a.createElement("div",null,c.a.createElement(Z.a,{variant:"flush"},c.a.createElement(Z.a.Item,{variant:"dark"},le(a)),e.meeting&&e.meeting.map((function(e){return c.a.createElement(Z.a.Item,null,c.a.createElement(K.a,null,c.a.createElement(Q.a,{className:"col-sm-1"},"1"),c.a.createElement(Q.a,{className:"col-sm-2"},e.meetingTime," - ",oe(e.meetingTime,e.duration)),c.a.createElement(Q.a,null,e.first_name," ",e.last_name,c.a.createElement("br",null),e.event_name)))}))))},de=a(73),pe=function(e,t){return function(){var a=Object(u.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("viewMeeting : ",e),a.next=3,S.a.get("".concat(x,"/api/v1/meeting/list/").concat(e,"/").concat(t));case 3:r=a.sent,console.log("viewMeeting : ",r.data.meetingList),n({type:"view_meetings",payload:r.data});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ve=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(pe(re(),"present"))}},{key:"showSheduleFor",value:function(e){this.props.dispatch(pe(re(),e))}},{key:"renderSchedules",value:function(){var e=this;return Object.keys(this.props.meetingList).sort(se).map((function(t){return c.a.createElement(me,{meeting:e.props.meetingList[t]})}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(b.a,{variant:"outline-primary",onClick:function(){return e.showSheduleFor("present")}},"Upcoming")," ",c.a.createElement(b.a,{variant:"outline-primary",onClick:function(){return e.showSheduleFor("past")}},"Past")," ",c.a.createElement(E.a,{style:{marginTop:"10px"}},this.props.meetingList&&this.renderSchedules()))}}]),a}(r.Component);var ge=Object(O.b)((function(e,t){return{meetingList:e.meetingReducer.meetingList}}),null)(ve),fe=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={key:"events"},e.changeTab=function(t){e.setState({key:t})},e.showTab=function(){return"schedules"===e.state.key?c.a.createElement(ge,null):c.a.createElement(ue,null)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return null===sessionStorage.getItem("loggedIn")?c.a.createElement(f.a,{to:"/"}):c.a.createElement("div",null,c.a.createElement(R,null),c.a.createElement(E.a,null,c.a.createElement(E.a.Body,null,c.a.createElement(E.a.Title,null,c.a.createElement(z,null)),c.a.createElement(E.a.Subtitle,{className:"mb-2 text-muted"},c.a.createElement(b.a,{onClick:function(){return e.changeTab("events")},style:{marginRight:"10px"}},"Event Types"),c.a.createElement(b.a,{onClick:function(){return e.changeTab("schedules")}},"Scheduled Events")),c.a.createElement(E.a.Text,null,this.showTab()))))}}]),a}(r.Component),Ee=a(158),he=[],be=new Date,ye=be.getDate(),we=be.getMonth(),Oe=be.getFullYear(),je=new Date(Oe,we,ye).getTime();var Se=Object(w.a)({validate:function(e){var t={};return e.first_name||(t.first_name="First name is required"),e.last_name||(t.last_name="Last name is required"),e.email||(t.email="Email is required"),t},form:"addMeeting",destroyOnUnmount:!0})((function(e){var t=Object(r.useState)(""),a=Object(Y.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)(""),s=Object(Y.a)(l,2),m=s[0],d=s[1],p=Object(r.useState)(!1),v=Object(Y.a)(p,2),g=v[0],f=v[1],E=Object(r.useState)(!1),w=Object(Y.a)(E,2),O=w[0],j=w[1],T=Object(r.useState)([]),k=Object(Y.a)(T,2),I=k[0],L=k[1],N=function(t){o(t.toISOString()),e.dispatch(Object($.a)("addMeeting","meetingDate",t.toISOString()));var a=[];e.meetingList[t]?((a=e.meetingList[t].map((function(e){return{duration:e.duration,startTime:e.meetingTime,endTime:oe(e.meetingTime,e.duration)}}))).map((function(t){m>=t.startTime&&m<=t.endTime&&(d(""),e.dispatch(Object($.a)("addMeeting","meetingTime","")))})),L(a),j(!1)):(L([]),j(!1))},C=function(t){d(t),j(!1),e.dispatch(Object($.a)("addMeeting","meetingTime",t))},M=function(t){var a,n,r;(console.log("addMeetingHandler : ",t.meetingTime,t.meetingDate,void 0!==t.meetingDate&&0===t.meetingDate.trim().length),void 0!==t.meetingTime&&0!==t.meetingTime.trim().length&&void 0!==t.meetingDate&&0!==t.meetingDate.trim().length)?(t.event_name=e.selectedEvent.event_name,t.duration=e.selectedEvent.duration,console.log("MEETING SUBMIT : ",t,e.selectedEvent._id,e.user._id),e.dispatch((a=t,n=e.selectedEvent._id,r=e.user._id,function(){var e=Object(u.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ADDING METING....",Object(de.a)(Object(de.a)({},a),{},{event_id:n,user_id:r})),e.next=3,S.a.post("".concat(x,"/api/v1/meeting/add"),Object(de.a)(Object(de.a)({},a),{},{event_id:n,user_id:r}));case 3:c=e.sent,t({type:"add_meeting",payload:c.data}),t(Object($.b)("addMeeting"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),f(!0)):j(!0)};return c.a.createElement(X.a,{show:e.show,onHide:function(){e.handleAddMeeting("close"),o(""),d(""),f(!1),L([])},scrollable:!0,size:"xl"},g&&c.a.createElement(X.a.Header,{closeButton:!0},c.a.createElement(X.a.Title,null,"Confirmed",c.a.createElement("br",null),e.selectedEvent.event_name," scheduled with ",e.user.full_name,c.a.createElement("br",null),ce(n,m,e.selectedEvent.duration),c.a.createElement("br",null),c.a.createElement(b.a,{onClick:function(){return f(!1)}},"Schedule Another meeting"))),!g&&c.a.createElement("div",null,c.a.createElement(X.a.Header,{closeButton:!0},c.a.createElement(X.a.Title,{style:{margin:"10px"}},c.a.createElement(K.a,null,e.user.full_name),c.a.createElement(K.a,{style:{fontSize:"20px"}},e.selectedEvent.event_name),c.a.createElement(K.a,{style:{fontSize:"18px",padding:"5px"}},O&&c.a.createElement(h.a.Text,{className:"text-white bg-danger"},"Please select date & time"),!O&&n.length>0&&m.length>0&&ce(n,m,e.selectedEvent.duration)))),c.a.createElement(X.a.Body,null,c.a.createElement(h.a,{onSubmit:e.handleSubmit(M)},c.a.createElement(K.a,null,c.a.createElement(Q.a,{className:"col-sm-5"},c.a.createElement(K.a,null,c.a.createElement(Q.a,null,c.a.createElement(h.a,null,c.a.createElement(K.a,null,c.a.createElement(Q.a,null,c.a.createElement(y.a,{component:D,label:"First name",type:"text",placeholder:"First Name",name:"first_name"})),c.a.createElement(Q.a,null,c.a.createElement(y.a,{component:D,label:"Last name",type:"text",placeholder:"Last Name",name:"last_name"}))),c.a.createElement(K.a,null,c.a.createElement(Q.a,null,c.a.createElement(y.a,{component:D,label:"Email address",type:"email",placeholder:"Enter email",name:"email"}),c.a.createElement(y.a,{className:"form-control",component:"input",type:"hidden",name:"meetingDate"}),c.a.createElement(y.a,{className:"form-control",component:"input",type:"hidden",name:"meetingTime"})))))),c.a.createElement(K.a,null,c.a.createElement(Q.a,null,c.a.createElement(Ee.a,{onChange:N,tileDisabled:function(e){var t=e.date;return"month"===e.view&&(he.some((function(e){return console.log("TileDate : ",t.getDay(),"\n",t.getTime()),t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}))||0===t.getDay()||6===t.getDay()||je>t.getTime())}})))),c.a.createElement(Q.a,{className:"col-sm-7"},c.a.createElement(K.a,null,_.map((function(e){if(0===I.length)return c.a.createElement(Q.a,{className:"col-sm-3",style:{marginBottom:"5px"}},c.a.createElement(b.a,{variant:"outline-primary",onClick:function(){return C(e)}},e));var t=!1;return I.map((function(a){e>=a.startTime&&e<=a.endTime&&(t=!0)})),t?c.a.createElement(Q.a,{className:"col-sm-3",style:{marginBottom:"5px"}},c.a.createElement(b.a,{disabled:!0,href:"#",variant:"secondary"},e)):c.a.createElement(Q.a,{className:"col-sm-3",style:{marginBottom:"5px"}},c.a.createElement(b.a,{variant:"outline-primary",onClick:function(){return C(e)}},e))})),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Schedule Event")))))),c.a.createElement(X.a.Footer,null)))})),xe=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showAddMeeting:!1,selectedEvent:{}},e.handleAddMeeting=function(t,a){"open"===t?e.setState({selectedEvent:a,showAddMeeting:!0}):"close"===t&&e.setState({showAddMeeting:!1})},e.renderWrongLink=function(){return c.a.createElement(E.a,{className:"text-center"},c.a.createElement(E.a.Title,null,"Please check ur Link"))},e.renderForm=function(){return c.a.createElement(E.a,{className:"text-center"},c.a.createElement(E.a.Body,null,c.a.createElement(E.a.Title,null,e.props.user.full_name),c.a.createElement(E.a.Text,null,"Welcome to my scheduling page. Please follow the instruction to add schedule to my calender."),c.a.createElement(V.a,null,c.a.createElement(K.a,null,e.props.eventList&&e.props.eventList.map((function(t){return c.a.createElement(Q.a,{style:{marginBottom:"10px"}},c.a.createElement(W,{event:t,showMeeting:e.handleAddMeeting}))}))))),c.a.createElement(Se,{meetingList:e.props.meetingList,show:e.state.showAddMeeting,selectedEvent:e.state.selectedEvent,user:e.props.user,handleAddMeeting:e.handleAddMeeting}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(ie(this.props.match.params.user_id)),this.props.dispatch(L(this.props.match.params.user_id)),this.props.dispatch(pe(this.props.match.params.user_id,"present"))}},{key:"render",value:function(){return this.props.user?this.renderForm():this.renderWrongLink()}}]),a}(r.Component);var _e=Object(O.b)((function(e,t){return console.log("State MEETING : ",e),{eventList:e.eventReducer.eventList,meetingList:e.meetingReducer.meetingList,user:e.userReducer.user}}),null)(xe);a(314),a(315);var Te=Object(O.b)(null,{sendPasswordMail:C})(Object(w.a)({validate:function(e){var t={};return e.email||(t.email="Email is required"),t},form:"forgotForm",destroyOnUnmount:!0})((function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],o=a[1],l=function(t){e.dispatch(C(t.email)),o(!0)};return c.a.createElement(E.a,{style:{padding:"10px",margin:"50px auto",width:"60%"}},c.a.createElement(E.a.Title,{className:"text-center"},"Reset Password"),!n&&c.a.createElement(h.a,{onSubmit:e.handleSubmit(l)},c.a.createElement(y.a,{component:D,type:"email",label:"Enter resigtered email address",placeholder:"Enter email",name:"email"}),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Send"),c.a.createElement(g.b,{to:"/",style:{marginLeft:"10px"}},c.a.createElement(b.a,{variant:"primary",type:"submit"},"Cancel"))),n&&c.a.createElement(h.a.Text,null,"If email is registered you will receive reset password link. Click ",c.a.createElement(g.b,{to:"/"},"here")," to login again."))}))),ke=[{type:"email",label:"Enter email",placeholder:"Enter email",name:"email"},{type:"password",label:"Password",placeholder:"Password",name:"password"},{type:"password",label:"Confirm Password",placeholder:"Password",name:"confirm_password"}];var Ie=Object(O.b)((function(e,t){return console.log("RESET PASS : ",e),{user:e.userReducer.user}}),null)(Object(w.a)({validate:function(e){var t={};return e.password!==e.confirm_password&&(t.confirm_password="Confirm password does not match"),ke.map((function(a){var n=a.label,r=a.name;e[r]||(t[r]="".concat(n," is required"))})),t},form:"resetForm",destroyOnUnmount:!0})((function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)(!1),s=Object(Y.a)(l,2),i=s[0],u=s[1];Object(r.useEffect)((function(){e.dispatch(L(e.match.params.user_id)),console.log("RESET PASS")}));var m=function(t){t.email!==e.user.email?o(!0):(u(!0),e.dispatch(M(t)))};return c.a.createElement(E.a,{style:{padding:"10px",margin:"50px auto",width:"60%"}},c.a.createElement(E.a.Title,{className:"text-center"},"Reset Password"),!i&&c.a.createElement(h.a,{onSubmit:e.handleSubmit(m)},c.a.createElement(h.a.Text,{className:"text-white bg-danger"},n&&"Invalid Email"),ke.map((function(e){return c.a.createElement(y.a,Object.assign({component:D},e))})),c.a.createElement(y.a,{component:"input",type:"hidden",name:"validEmail"}),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Reset")),!n&&i&&c.a.createElement(h.a.Text,null,"Your password has changed. Click ",c.a.createElement(g.b,{to:"/"},"here")," to login again."))}))),Le=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={signUpFormSubmitted:!1},e.handleSubmit=function(e){alert("submitted")},e.onFormSubmit=function(){var t=Object(u.a)(i.a.mark((function t(a,n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({signUpFormSubmitted:!0});case 1:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){return console.log("loggedIn : ",this.props.loggedIn),c.a.createElement(V.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,null,c.a.createElement(f.d,null,c.a.createElement(f.b,{path:"/",exact:!0,component:function(){return c.a.createElement(U,null)}}),c.a.createElement(f.b,{path:"/forgot_password",component:Te}),c.a.createElement(f.b,{path:"/new_user",component:function(){return c.a.createElement(G,null)}}),c.a.createElement(f.b,{path:"/dashboard",component:fe}),c.a.createElement(f.b,{path:"/reset_password/:user_id",exact:!0,component:Ie}),c.a.createElement(f.b,{path:"/meeting/:user_id",exact:!0,component:_e}),c.a.createElement(f.a,{to:"/"}))))}}]),a}(r.Component);var Ne=Object(O.b)((function(e,t){var a=e.userReducer;return{user:a.user,loggedIn:a.loggedIn}}),n)(Le),Ce=a(16),Me=a(156),Fe=(a(316),a(149)),De=Object(Ce.c)({form:Fe.a,userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_user":return e;case"user_info":return{user:t.payload.user,token:t.payload.token,loggedIn:!0};case"get_user":return console.log("RESET PASS : ",t.payload),{user:t.payload.user};case"reset_password":default:return e}},eventReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_event":return e;case"view_events":return console.log("ACTION : ",t.payload),t.payload;default:return e}},meetingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add_meeting":return e;case"view_meetings":return console.log("ACTION : ",t.payload),t.payload;default:return e}}}),Ae=Object(Ce.d)(De,Object(Ce.a)(Me.a));l.a.render(c.a.createElement(O.a,{store:Ae},c.a.createElement(Ne,null)),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.b2852b05.chunk.js.map